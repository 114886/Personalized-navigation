{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","hsave","localStorage","getItem","hsaveObject","JSON","parse","hashMap","logo","url","simplifyUrl","replace","render","undefined","i","length","j","alert","splice","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","ecname","es","ed","dragStart","event","path","className","x","innerHTML","id","allowDrop","preventDefault","drop","temp","prompt","indexOf","push","toUpperCase","onbeforeunload","string","stringify","setItem","document","key","val"],"mappings":"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","file":"main.164ffbbd.map","sourceRoot":"..\\src","sourcesContent":["const $siteList = $('.siteList')\r\nconst $lastLi = $siteList.find('li.last')\r\nconst hsave = localStorage.getItem('hsave')\r\nconst hsaveObject = JSON.parse(hsave)\r\nconst hashMap = hsaveObject || [{\r\n    logo: 'D',\r\n    url: 'https://developer.mozilla.org/zh-CN/'\r\n  },\r\n  {\r\n    logo: 'G',\r\n    url: 'https://www.google.com/'\r\n  },\r\n]\r\n\r\nconst simplifyUrl = (url) => {\r\n  return url.replace('https://', '')\r\n    .replace('http://', '')\r\n    .replace('www.', '')\r\n    .replace(/\\/.*/, '') //正则表达式 删除 / 开头的内容\r\n}\r\n\r\nconst render = () => {\r\n  if (hashMap[1] !== undefined) {\r\n    for (let i = 0; i < hashMap.length - 1; i++) {\r\n      for (let j = i + 1; j < hashMap.length; j++) {\r\n        if (hashMap[i].url === hashMap[j].url) {\r\n          alert('请勿添加相同标签！')\r\n          hashMap.splice(j, 1)\r\n          render()\r\n        }\r\n      }\r\n    }\r\n  }\r\n  $siteList.find('li:not(.last)').remove()\r\n  hashMap.forEach((node, index) => {\r\n    const $li = $(`<li>\r\n    <div class=\"site\" ondragstart=\"dragStart(event)\" draggable=\"true\" ondrop=\"drop(event)\" ondragover=\"allowDrop(event)\">\r\n      <div class=\"logo\">${node.logo}</div>\r\n      <div class=\"link\">${simplifyUrl(node.url)}</div>\r\n      <div class=\"close\">\r\n        <svg class=\"icon\" aria-hidden=\"true\">\r\n          <use xlink:href=\"#icon-guanbi\"></use>\r\n        </svg>\r\n      </div>\r\n    </div>\r\n  </li>`).insertBefore($lastLi);\r\n    $li.on('click', () => {\r\n      window.open(node.url)\r\n    })\r\n    $li.on('click', '.close', (e) => {\r\n      e.stopPropagation()\r\n      hashMap.splice(index, 1)\r\n      render()\r\n    })\r\n  })\r\n}\r\nrender()\r\n\r\nlet ecname\r\nlet es = {}\r\nlet ed = {}\r\nconst dragStart = (event) => {\r\n  // console.log(event.target);\r\n  // console.log($(event.path[0]).find('.link')[0].innerHTML);\r\n  ecname = event.path[0].className\r\n  const x = $(event.path[0]).find('.link')[0].innerHTML\r\n  for (let i = 0; i < hashMap.length; i++) {\r\n    // console.log(x,simplifyUrl(hashMap[i].url));\r\n    if (simplifyUrl(hashMap[i].url) === x) {\r\n      es.url = hashMap[i].url\r\n      es.id = i\r\n      // console.log(es);\r\n    }\r\n  }\r\n}\r\nconst allowDrop = (event) => {\r\n  event.preventDefault();\r\n}\r\nconst drop = (event) => {\r\n  event.preventDefault();\r\n  // console.log(es);\r\n  let temp = {}\r\n  let e\r\n  if (event.path[0].className === ecname) {\r\n    e = event.path[0]\r\n  } else {\r\n    e = event.path[1]\r\n  }\r\n  const x = $(e).find('.link')[0].innerHTML\r\n  // console.log(x);\r\n  for (let i = 0; i < hashMap.length; i++) {\r\n    // console.log(x,simplifyUrl(hashMap[i].url));\r\n    if (simplifyUrl(hashMap[i].url) === x) {\r\n      ed.url = hashMap[i].url\r\n      ed.id = i\r\n    }\r\n  }\r\n\r\n  temp.logo = hashMap[ed.id].logo\r\n  temp.url = hashMap[ed.id].url\r\n  hashMap[ed.id].logo = hashMap[es.id].logo\r\n  hashMap[ed.id].url = hashMap[es.id].url\r\n  hashMap[es.id].logo = temp.logo\r\n  hashMap[es.id].url = temp.url\r\n  // console.log(hashMap);\r\n  render()\r\n}\r\n\r\n$('.addButton')\r\n  .on('click', () => {\r\n    let url = window.prompt('请问你要添加的网址是什么？')\r\n    // console.log(url);\r\n    if (url.indexOf('http') !== 0) {\r\n      url = 'https://' + url\r\n    }\r\n    // console.log(url);\r\n    hashMap.push({\r\n      logo: simplifyUrl(url)[0].toUpperCase(),\r\n      url: url\r\n    })\r\n    render()\r\n  })\r\n\r\nwindow.onbeforeunload = () => {\r\n  const string = JSON.stringify(hashMap)\r\n  localStorage.setItem('hsave', string)\r\n}\r\n\r\n$(document).on('keypress', (e) => {\r\n  const {\r\n    key\r\n  } = e\r\n  if ($('#txt').val() === '') {\r\n    for (let i = 0; i < hashMap.length; i++) {\r\n      if (hashMap[i].logo === key) {\r\n        window.open(hashMap[i].url)\r\n      }\r\n    }\r\n  }\r\n})"]}